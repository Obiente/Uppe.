---
import Card from './Card.astro';
import Heading from './Heading.astro';
import Paragraph from './Paragraph.astro';
import Icon from './Icon.astro';
import { ICONS } from '$lib/design-system/icons';

export interface Props {
  href: string;
  title: string;
  description: string;
  icon: keyof typeof ICONS;
  iconBg?: 'primary' | 'secondary' | 'success' | 'warning' | 'error' | 'info';
  variant?: 'default' | 'elevated' | 'gradient';
  class?: string;
  [key: string]: any;
}

const { 
  href,
  title,
  description,
  icon,
  iconBg = 'primary',
  variant = 'default',
  class: className = '',
  ...rest
} = Astro.props;

const iconBgClasses = {
  primary: 'bg-gradient-to-br from-interactive-primary to-interactive-primary/80',
  secondary: 'bg-gradient-to-br from-accent-secondary to-accent-secondary/80',
  success: 'bg-gradient-to-br from-status-success to-status-success/80',
  warning: 'bg-gradient-to-br from-status-warning to-status-warning/80',
  error: 'bg-gradient-to-br from-status-error to-status-error/80',
  info: 'bg-gradient-to-br from-status-info to-status-info/80'
};

const iconTextClasses = {
  primary: 'text-inverse',
  secondary: 'text-primary',
  success: 'text-inverse',
  warning: 'text-inverse',
  error: 'text-inverse',
  info: 'text-inverse'
};

const cardVariants = {
  default: 'default' as const,
  elevated: 'elevated' as const,
  gradient: 'elevated' as const
};
---

<a href={href} class={`block transition-all duration-200 group hover:scale-105 ${className}`} {...rest}>
  <Card variant={cardVariants[variant]} class="p-4">
    <div class="flex items-center gap-4">
      <div class={`w-12 h-12 ${iconBgClasses[iconBg]} rounded-xl flex items-center justify-center transition-transform duration-200 group-hover:scale-110 shadow-lg`}>
        <Icon icon={icon} class={`w-7 h-7 ${iconTextClasses[iconBg]}`} />
      </div>
      <div class="flex-1">
        <Heading as="h3" size="lg" weight="semibold" class="group-hover:text-interactive-primary transition-colors">{title}</Heading>
        <Paragraph size="sm" color="secondary" class="mt-1">{description}</Paragraph>
      </div>
      <div class="text-tertiary group-hover:text-interactive-primary transition-colors">
        <Icon icon="COLLAPSE" />
      </div>
    </div>
  </Card>
</a>
