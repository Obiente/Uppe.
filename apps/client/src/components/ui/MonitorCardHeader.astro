---
import Heading from './Heading.astro';
import StatusBadge from './StatusBadge.astro';
import Badge from './Badge.astro';

interface Props {
  title: string;
  url: string;
  status: 'online' | 'offline' | 'warning';
  region: string;
  class?: string;
}

const { title, url, status, region, class: className = '' } = Astro.props;

const statusMap = {
  online: 'online' as const,
  offline: 'offline' as const,
  warning: 'degraded' as const
};
---

<div class={`flex items-start justify-between mb-4 ${className}`}>
  <div class="flex-1 min-w-0">
    <Heading as="h3" size="xl" class="truncate">
      {title}
    </Heading>
    <p class="text-secondary text-sm truncate">
      {url}
    </p>
  </div>
  <div class="flex items-center gap-2 ml-4">
    <Badge variant="neutral" size="sm">
      {region}
    </Badge>
    <StatusBadge status={statusMap[status]} />
  </div>
</div>
